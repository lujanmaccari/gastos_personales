{% extends 'layout/frame.html' %}

{% block title %}
  Categorías
{% endblock %}

{% block sectionTitle %}
  Categorías
{% endblock %}

{% block boton_flotante %}
  <a href="{% url 'categoria_create' %}" class="fixed bottom-6 right-6 bg-gradient-to-br from-blue-400 via-indigo-400 to-purple-400 text-white rounded-full w-16 h-16 flex items-center justify-center shadow-[0_8px_20px_rgba(100,100,255,0.3)] backdrop-blur-md transition-transform hover:scale-110 hover:shadow-[0_10px_25px_rgba(120,120,255,0.4)]" title="Nuevo Ingreso">
    <!-- Ícono "+" -->
    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="white" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
    </svg>
  </a>
{% endblock %}

{% load static %}

{% block contenido_tabla %}
  <div class="layout-content-container flex flex-col flex-1">
    <div class="p-4">
      <div class="card bg-base-100 shadow-md rounded-xl p-6 flex flex-col md:flex-row gap-8">
        <div class="flex-1">
          <h3 class="text-xl font-bold text-base-content mb-4">Distribución de Gastos por Categoría</h3>

          <div class="flex items-center justify-center">
            <div class="relative w-48 h-48">
              <svg class="w-full h-full" viewBox="0 0 36 36">
                <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e6e6e6" stroke-width="4"></path>
                <path d="M18 2.0845 a 15.9155 15.9155 0 0 1 11.25 4.66" fill="none" stroke="#FFA500" stroke-dasharray="35, 100" stroke-width="4"></path>
                <path d="M29.25 6.7445 a 15.9155 15.9155 0 0 1 4.66 11.25" fill="none" stroke="#007BFF" stroke-dasharray="25, 100" stroke-width="4" transform="rotate(126 18 18)"></path>
                <path d="M33.9155 18 a 15.9155 15.9155 0 0 1 -4.66 11.25" fill="none" stroke="#6F42C1" stroke-dasharray="15, 100" stroke-width="4" transform="rotate(216 18 18)"></path>
                <path d="M29.25 29.2555 a 15.9155 15.9155 0 0 1 -11.25 4.66" fill="none" stroke="#28A745" stroke-dasharray="10, 100" stroke-width="4" transform="rotate(270 18 18)"></path>
                <path d="M18 33.9155 a 15.9155 15.9155 0 0 1 -11.25 -4.66" fill="none" stroke="#FFC107" stroke-dasharray="10, 100" stroke-width="4" transform="rotate(306 18 18)"></path>
                <path d="M6.75 29.2555 a 15.9155 15.9155 0 0 1 -4.665 -11.25" fill="none" stroke="#e2e8f0" stroke-dasharray="5, 100" stroke-width="4" transform="rotate(342 18 18)"></path>
              </svg>

              <div class="absolute inset-0 flex items-center justify-center flex-col">
                <span class="text-2xl font-bold text-base-content">$1,250</span>
                <span class="text-sm text-neutral">Total Gastado</span>
              </div>
            </div>
          </div>
        </div>

        <div class="flex-1 flex flex-col justify-center">
          <ul class="space-y-3">
            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-[#FFA500]"></span>
                <span class="text-base-content">Alimentación</span>
              </div>
              <span class="font-bold text-base-content">35%</span>
            </li>

            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-[#007BFF]"></span>
                <span class="text-base-content">Transporte</span>
              </div>
              <span class="font-bold text-base-content">25%</span>
            </li>

            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-[#6F42C1]"></span>
                <span class="text-base-content">Ocio</span>
              </div>
              <span class="font-bold text-base-content">15%</span>
            </li>

            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-[#28A745]"></span>
                <span class="text-base-content">Salud</span>
              </div>
              <span class="font-bold text-base-content">10%</span>
            </li>

            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-[#FFC107]"></span>
                <span class="text-base-content">Hogar</span>
              </div>
              <span class="font-bold text-base-content">10%</span>
            </li>

            <li class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <span class="w-3 h-3 rounded-full bg-zinc-400"></span>
                <span class="text-base-content">Educación</span>
              </div>
              <span class="font-bold text-base-content">5%</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="p-4 mt-8">
      <div class="card bg-base-100 shadow-md rounded-xl overflow-hidden">
        <table class="table w-full">
          <thead class="bg-base-200">
            <tr>
              <th>Categoría</th>
              <th class="text-right">Acciones</th>
            </tr>
          </thead>

          <tbody>
            {% comment %}filas originales sin cambios visuales{% endcomment %}

            {{ block.super }}
          </tbody>
        </table>
      </div>
    </div>
  </div>
{% endblock %}
